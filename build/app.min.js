var Hyperscope=function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}return function(){var n=function(){function t(t){var n=void 0,e=[];for(n=t;n;n=n.parentNode)1===n.nodeType&&e.push(n);return e}return t}(),e=function(){function t(t,n){var e=t.scrollTop,r=t.scrollLeft,o=t.scrollHeight,i=t.scrollWidth,u=t.clientHeight,c=t.clientWidth;switch(n){case"left":return r>0;case"right":return r+c<i;case"up":return e>0;case"down":return e+u<o}return!1}function n(t){var n=t.currentStyle||window.getComputedStyle(t,null);return t===document.scrollingElement||(t===document.body||(t===document.documentElement||r.test(n.overflow+n.overflowY+n.overflowX)))}function e(e,r){return n(e)&&t(e,r)}var r=/(auto|scroll|hidden)/;return e}(),r=function(){function t(t,n,e){return t>n&&t<e}function r(t){return t===document.documentElement?{top:0,left:0,right:t.clientWidth,bottom:t.clientHeight,width:t.clientWidth,height:t.clientHeight}:t.getBoundingClientRect()}function o(o,u,c){var l=n(c),f={x:0,y:0},a=void 0,s=void 0;for(s=l.length-1;s>=0;s--)if(a=r(l[s]),t(o-a.left,0,i)&&e(l[s],"left")&&(f.x=-1),t(o-a.right,-i,0)&&e(l[s],"right")&&(f.x=1),t(u-a.top,0,i)&&e(l[s],"up")&&(f.y=-1),t(u-a.bottom,-i,0)&&e(l[s],"down")&&(f.y=1),f.x||f.y)return f;return f}var i=20;return o}(),o=function(){function t(t,r){var o=n(t),i=void 0;for(i=0;i<o.length;i++)if(e(o[i],r))return o[i];return null}return t}();return function(){function n(t,e,i,u,c,l){var f=r(t,e,i),a=f.x,s=f.y,h=a<0?"left":a>0?"right":s<0?"up":s>0?"down":"";if(a||s){var d=o(i,h);d&&(d.scrollLeft+=a*u,d.scrollTop+=s*u,l(setTimeout(function(){n(t,e,i,u,c,l)},c)))}}return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;t(this,e),this.step=n,this.interval=r,this.delay=o,this.timeoutHanler=null}return e.prototype.request=function(t,e,r){var o=this;this.cancel(),this.timeoutHanler=setTimeout(function(){n(t,e,r,o.step,o.interval,function(t){o.timeoutHanler=t})},this.delay)},e.prototype.cancel=function(){clearTimeout(this.timeoutHanler)},e}()}()}()}();